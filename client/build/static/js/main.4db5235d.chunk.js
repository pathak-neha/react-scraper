(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){e.exports=a(60)},31:function(e,t,a){},33:function(e,t,a){},54:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(17),c=a.n(r),i=a(62),o=a(64),s=a(63),u=a(18),m=a(19),d=a(20),h=a(23),f=a(21),p=a(24),E=(a(31),function(e){return l.a.createElement("button",Object.assign({className:"delete-btn"},e),"Remove")}),g=(a(33),function(e){return l.a.createElement("button",Object.assign({className:"save-btn"},e),"Save Article")}),v=function(e){var t=e.children;return l.a.createElement("div",{style:{height:100,clear:"both",paddingTop:18,textAlign:"center"},className:"jumbotron"},t)},b=a(6),N=a.n(b),Y={getNYTArticles:function(e,t,a){return N.a.get("https://api.nytimes.com/svc/search/v2/articlesearch.json"+"?api-key=".concat("abfda96b313848ad975837fbc8f1e9f6","&q=").concat(e,"&begin_date=").concat(t,"&end_date=").concat(a))},getArticles:function(){return N.a.get("/api/articles")},getArticle:function(e){return N.a.get("/api/articles/"+e)},deleteArticle:function(e){return N.a.delete("/api/articles/"+e)},saveArticle:function(e){return N.a.post("/api/articles",e)}},A=a(61),T=function(e){var t=e.size,a=e.children;return l.a.createElement("div",{className:t.split(" ").map(function(e){return"col-"+e}).join(" ")},a)},k=function(e){var t=e.fluid,a=e.children;return l.a.createElement("div",{className:"container".concat(t?"-fluid":"")},a)},w=function(e){var t=e.fluid,a=e.children;return l.a.createElement("div",{className:"row".concat(t?"-fluid":"")},a)},y=(a(54),function(e){var t=e.children;return l.a.createElement("div",{className:"list-overflow-container"},l.a.createElement("ul",{className:"list-group"},t))}),j=function(e){return l.a.createElement("li",{className:"list-group-item"},e.children)},O=function(e){return l.a.createElement("div",{className:"form-group"},l.a.createElement("input",Object.assign({className:"form-control"},e)))},S=function(e){return l.a.createElement("button",Object.assign({},e,{style:{marginBottom:20},className:"btn btn-success"}),e.children)},_=a(7),C=a.n(_),D=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(l)))).state={articles:[],NYTResults:[],topic:"",from:"",to:""},a.deleteArticle=function(e){Y.deleteArticle(e).then(function(e){return a.loadArticles()}).catch(function(e){return console.log(e)})},a.handleInputChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(u.a)({},n,l))},a.createNewArticle=function(e,t){Y.saveArticle({title:e,url:t,date:Date.now()}).then(function(e){return a.loadArticles()}).catch(function(e){return console.log(e)})},a.handleSearchNYT=function(e){e.preventDefault(),a.state.topic&&a.state.from&&a.state.to&&a.getOnlineNYTArticles(a.state.topic,C()(a.state.from).format("YYYYMMDD"),C()(a.state.to).format("YYYYMMDD"))},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.loadArticles(),this.getOnlineNYTArticles("Trump","20170101","20180101")}},{key:"getOnlineNYTArticles",value:function(e,t,a){var n=this;Y.getNYTArticles(e,t,a).then(function(e){if(e){for(var t=[],a=0;a<(5>e.data.response.docs.length?e.data.response.docs.length:5);a++){var l=e.data.response.docs[a].web_url,r=e.data.response.docs[a].headline.main,c=e.data.response.docs[a].pub_date,i={_id:e.data.response.docs[a]._id,title:r,url:l,pub_date:c};t.push(i)}n.setState({NYTResults:t})}})}},{key:"loadArticles",value:function(){var e=this;Y.getArticles().then(function(t){return e.setState({articles:t.data,topic:"",from:"",to:""})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this;return l.a.createElement(k,{fluid:!0},l.a.createElement(w,null,l.a.createElement(T,{size:"md-12"},l.a.createElement(v,null,l.a.createElement("h1",null,"New York Times Article Scrubber"),l.a.createElement("p",null,"Search for an annotate articles of interest!")),l.a.createElement("form",null,l.a.createElement(O,{value:this.state.topic,onChange:this.handleInputChange,name:"topic",placeholder:"Topic"}),l.a.createElement(O,{value:this.state.from,onChange:this.handleInputChange,name:"from",placeholder:"From Year"}),l.a.createElement(O,{value:this.state.to,onChange:this.handleInputChange,name:"to",placeholder:"To Year"}),l.a.createElement(S,{disabled:!(this.state.topic&&this.state.from&&this.state.to),onClick:this.handleSearchNYT},"Search NYT")))),this.state.NYTResults.length?l.a.createElement(w,null,l.a.createElement(T,{size:"md-12 sm-12"},l.a.createElement("p",null,"5 Search Results:"),l.a.createElement(y,null,this.state.NYTResults.map(function(t){return l.a.createElement(j,{key:t._id},l.a.createElement(A.a,{to:t.url,target:"_blank"},l.a.createElement("strong",null,t.title,l.a.createElement("br",null),t.url,l.a.createElement("br",null),"Published at: ",C()(t.pub_date).format("d/m/Y"))),l.a.createElement(g,{onClick:function(){return e.createNewArticle(t.title,t.url)}}))})))):l.a.createElement("p",null,"Write a topic and from Year and To Year and click Search!"),l.a.createElement(w,null,l.a.createElement(T,{size:"md-12 sm-12"},l.a.createElement(v,null,l.a.createElement("h1",null,"Saved Articles")),this.state.articles.length?l.a.createElement(y,null,this.state.articles.map(function(t){return l.a.createElement(j,{key:t._id},l.a.createElement(A.a,{to:t.url,target:"_blank"},l.a.createElement("strong",null,"Title: ",t.title,l.a.createElement("br",null),"Link: ",t.url,l.a.createElement("br",null),"Saved at: ",C()(t.date).format("d/m/Y"))),l.a.createElement(E,{onClick:function(){return e.deleteArticle(t._id)}}))})):l.a.createElement("h3",null,"No Results to Display"))))}}]),t}(n.Component),R=function(){return l.a.createElement(k,{fluid:!0},l.a.createElement(w,null,l.a.createElement(T,{size:"md-12"},l.a.createElement(v,null,l.a.createElement("h1",null,"404 Page Not Found")))))},z=function(){return l.a.createElement(i.a,null,l.a.createElement("div",null,l.a.createElement(o.a,null,l.a.createElement(s.a,{exact:!0,path:"/",component:D}),l.a.createElement(s.a,{component:R}))))};c.a.render(l.a.createElement(z,null),document.getElementById("root"))}},[[26,2,1]]]);
//# sourceMappingURL=main.4db5235d.chunk.js.map